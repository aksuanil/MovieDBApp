{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/An\\u0131l AKSU/Desktop/MovieDBApp/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/An\\u0131l AKSU/Desktop/MovieDBApp/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\An\\u0131l AKSU\\\\Desktop\\\\MovieDBApp\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect}from\"react\";import Header from\"./components/Header\";import{useQuery}from\"react-query\";import SearchCard from\"./components/SearchCard\";import Loader from\"./components/Loader\";import{useSearchParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Search(){var _useSearchParams=useSearchParams(),_useSearchParams2=_slicedToArray(_useSearchParams,2),searchParams=_useSearchParams2[0],setSearchParams=_useSearchParams2[1];var searchString=searchParams.get(\"search\");var fetchPopular=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"search?search=\"+searchString);case 2:response=_context.sent;return _context.abrupt(\"return\",response.json());case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchPopular(){return _ref.apply(this,arguments);};}();var _useQuery=useQuery('search',fetchPopular),data=_useQuery.data,status=_useQuery.status;console.log(data);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),status==='loading'&&/*#__PURE__*/_jsx(Loader,{}),status==='error'&&/*#__PURE__*/_jsx(\"div\",{children:\"Error fetching data\"}),status==='success'&&/*#__PURE__*/_jsx(SearchCard,{data:data})]});}export default Search;","map":{"version":3,"sources":["C:/Users/AnÄ±l AKSU/Desktop/MovieDBApp/client/src/Search.js"],"names":["React","useEffect","Header","useQuery","SearchCard","Loader","useSearchParams","Search","searchParams","setSearchParams","searchString","get","fetchPopular","fetch","response","json","data","status","console","log"],"mappings":"kaAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,OAASC,QAAT,KAAyB,aAAzB,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,OAASC,eAAT,KAAgC,kBAAhC,C,6IAEA,QAASC,CAAAA,MAAT,EAAkB,CACd,qBAAwCD,eAAe,EAAvD,sDAAOE,YAAP,sBAAqBC,eAArB,sBACA,GAAIC,CAAAA,YAAY,CAAGF,YAAY,CAACG,GAAb,CAAiB,QAAjB,CAAnB,CACA,GAAMC,CAAAA,YAAY,0FAAG,sKACMC,CAAAA,KAAK,CAAC,iBAAmBH,YAApB,CADX,QACXI,QADW,+CAEVA,QAAQ,CAACC,IAAT,EAFU,wDAAH,kBAAZH,CAAAA,YAAY,0CAAlB,CAIA,cAAuBT,QAAQ,CAAC,QAAD,CAAWS,YAAX,CAA/B,CAAOI,IAAP,WAAOA,IAAP,CAAaC,MAAb,WAAaA,MAAb,CACEC,OAAO,CAACC,GAAR,CAAYH,IAAZ,EACF,mBACI,wCACI,KAAC,MAAD,IADJ,CAEKC,MAAM,GAAK,SAAX,eACC,KAAC,MAAD,IAHN,CAKKA,MAAM,GAAK,OAAX,eACC,4CANN,CAQKA,MAAM,GAAK,SAAX,eACD,KAAC,UAAD,EAAY,IAAI,CAAED,IAAlB,EATJ,GADJ,CAcH,CACD,cAAeT,CAAAA,MAAf","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport Header from \"./components/Header\";\r\nimport { useQuery } from \"react-query\";\r\nimport SearchCard from \"./components/SearchCard\";\r\nimport Loader from \"./components/Loader\";\r\nimport { useSearchParams } from \"react-router-dom\";\r\n\r\nfunction Search() {\r\n    const [searchParams, setSearchParams] = useSearchParams();\r\n    let searchString = searchParams.get(\"search\")    \r\n    const fetchPopular = async ()=> {\r\n        const response = await fetch(\"search?search=\" + searchString);\r\n        return response.json();\r\n      }\r\n    const {data, status} = useQuery('search', fetchPopular);\r\n      console.log(data);\r\n    return (\r\n        <>\r\n            <Header/>\r\n            {status === 'loading' && (\r\n              <Loader/>\r\n            )}\r\n            {status === 'error' && (\r\n              <div>Error fetching data</div>\r\n            )}\r\n            {status === 'success' && (\r\n            <SearchCard data={data}/>\r\n            )}\r\n        </>\r\n    )\r\n}\r\nexport default Search;"]},"metadata":{},"sourceType":"module"}